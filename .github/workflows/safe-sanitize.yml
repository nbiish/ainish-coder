name: Auto-Sanitize Secrets (Safe Rewrite)

on:
  push:
    branches: [ main, dev, staging ]
    paths:
      - '**/*'
  pull_request:
    branches: [ main ]
    paths:
      - '**/*'

permissions:
  contents: write
  pull-requests: write

jobs:
  sanitize:
    name: Safe Rewrite (No-Fail)
    uses: ./.github/workflows/reusable-sanitize.yml
    with:
      target-paths: '.'
